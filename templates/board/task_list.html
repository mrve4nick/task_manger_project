{% extends "base.html" %}
{% block content %}
  <div class="row">
    <div class="col-12 d-flex justify-content-between align-items-center">
      <h1>Tasks</h1>
      <a href="{% url 'board:task-create' %}" class="btn btn-primary">Add task</a>
    </div>
    <div class="col-12 d-flex justify-content-between align-items-center">
      <span class="h2">List of tasks presented below:</span>
    </div>
  </div>
  {% for task in task_list %}
    <div class="row">
      <div class="col-12">
        <p class="h2"><b>Task name: </b><a href="{% url 'board:task-detail' pk=task.id %}">{{ task.name }}</a></p>
        <p><b>Task description: </b>{{ task.description|slice:150 }}...</p>
        <p><b>Deadline: </b>{{ task.deadline }}</p>
        <p><b>Is task completed: </b>{{ task.is_completed }}</p>
        <p><b>Task priority: </b>{{ task.priority }}</p>
        <p><b>Task type: </b>{{ task.task_type }}</p>
        <p>
            <b>Assignees: </b>
            {% if task.assignees.exists %}
            <ul>
              {% for assignee in task.assignees.all %}
                <li><a href="{% url 'board:worker-detail' pk=assignee.id %}">{{ assignee }}</a></li>
              {% endfor %}
            </ul>
            {% else %}
            No assignees
            {% endif %}
        </p>
    <hr>
    <br>
  {% endfor %}
      </div>
    </div>
{% endblock %}
